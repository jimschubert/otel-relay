syntax = "proto3";

package inspector;

option go_package = "github.com/jimschubert/otel-relay/proto/inspector";

service InspectorService {
  rpc Stream(stream Command) returns (stream TelemetryEvent);
  rpc Emit(TelemetryEvent) returns (EmitResponse);
}

message Command {
  oneof cmd {
    ToggleVerbose toggle_verbose = 1;
    ToggleOutput toggle_output = 2;
  }
}

message ToggleVerbose {}
message ToggleOutput {}

message TelemetryEvent {
  bytes data = 1;
  TelemetryType type = 2;
}

message EmitResponse {}

enum TelemetryType {
  TELEMETRY_TYPE_UNSPECIFIED = 0;
  TELEMETRY_TYPE_TRACE = 1;
  TELEMETRY_TYPE_METRIC = 2;
  TELEMETRY_TYPE_LOG = 3;
}
